jQuery(document).ready(function(e){e(".accordion-title").append("<span class='caret'></span>"),e(".accordion-title").click(function(){"false"===e(this).attr("aria-expanded")?(e(this).attr("aria-expanded","true"),e(this).parent().addClass("open").next(".accordion-content").slideDown()):(e(this).attr("aria-expanded","false"),e(this).parent().removeClass("open").next(".accordion-content").slideUp())});var t=":not(.wp-block-opus-core-block-rewrite-oa)",a='<div class="accordion-set-wrapper">',n=e(".gutenberg-body > .container > .row > .col-12 > *"+t);n.each(function(){e(this).nextUntil(t).wrapAll(a)}),n.first().prevUntil(t).wrapAll(a)}),jQuery(document).ready(function(e){e(".dropdown-menu").on("click",function(e){e.stopPropagation()})}),jQuery(document).ready(function(e){e("#searchform #s").attr("placeholder","Search")}),jQuery(document).ready(function(){$('.query-checkbox input[type="checkbox"]').on("change.symptom",function(){$(this).parent().toggleClass("symptomChecked",this.checked),$(this).closest(".checkbox").toggleClass("checked_check",this.checked).toggleClass("empty_check",!this.checked)}).trigger("change.symptom")}),jQuery(document).ready(function(){$(".hotspot-icon").on("click",function(e){e.preventDefault(),$(".infographic-hotspots-wrap ."+$(this).text()).hasClass("active")?$(".infographic-hotspots-wrap ."+$(this).text()).removeClass("active"):($(".infographic-hotspots-wrap .hotspot-info").removeClass("active"),$(".infographic-hotspots-wrap ."+$(this).text()).addClass("active")),console.log($(this).text()),$(".hotspot-accordion."+$(this).text()+" h4").hasClass("open")||$(".hotspot-accordion h4.open button").click(),$(".hotspot-accordion."+$(this).text()+" button").click()})}),jQuery(document).ready(function(){var t;if($(".impact-stories-landing-page__featured-post").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),$(".impact-stories-landing-page__content .impact-story-teaser").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),jQuery(document).width()<1080&&0<$(".news-landing-page__featured-post-wrap").length&&(a=$(".news-landing-page__header").width(),e=($(".news-landing-page__header").width()-$(".news-landing-page__featured-post-wrap").width())/2,$("head").append("<style>.news-landing-page__featured-post-wrap:before{width:"+a+"px!important; left:-"+e+"px!important;}</style>")),jQuery(document).width()<1080&&0<$(".faculty-header .faculty-header__contact-info").length&&(a=$(".faculty-header").width(),e=($(".faculty-header").width()-$(".faculty-header .faculty-header__contact-info").outerWidth())/2,$("head").append("<style>.faculty-header .faculty-header__contact-info:after{width:"+a+"px!important; left:-"+e+"px!important;}</style>")),jQuery(document).width()<1080&&0<$(".impact-stories-filter-wrap").length&&(a=$(".impact-stories-landing-page__content").width(),e=($(".impact-stories-landing-page__content").width()-$(".impact-stories-filter-wrap").outerWidth())/2,$("head").append("<style>.impact-stories-filter-wrap:before{width:"+a+"px!important; left:-"+e+"px!important;}</style>")),jQuery(document).width()<1080&&0<$(".impact-area__stats").length&&(a=$(".impact-area__region-1").width(),e=($(".impact-area__region-1").width()-$(".impact-area__stats").outerWidth())/2,$("head").append("<style>.impact-area__stats:before{width:"+a+"px!important; left:-"+e+"px!important;}</style>")),jQuery(document).width()<1080&&0<$(".impact-area__how-its-used").length&&(a=$(".impact-area__region-2").width(),e=($(".impact-area__region-2").width()-$(".impact-area__how-its-used").outerWidth())/2,$("head").append("<style>.impact-area__how-its-used:before{width:"+a+"px!important; left:-"+e+"px!important;}</style>")),jQuery(document).width()<1080&&0<$(".impact-area__tools-materials").length&&(a=$(".impact-area__region-2").width(),e=($(".impact-area__region-2").width()-$(".impact-area__tools-materials").outerWidth())/2,$("head").append("<style>.impact-area__tools-materials:before{width:"+a+"px!important; left:-"+e+"px!important;}</style>")),0<$(".home-header__image").length&&($(".home-header").width(),a=($(".home-header").width()-$(".home-header > .container > .row").outerWidth())/2,$(".home-header__image").css("width",$(".home-header__image").outerWidth()+a+20+"px")),$(".navbar-toggler").click(function(){$(this).hasClass("collapsed")?$(".navbar.navbar--mobile").addClass("menu-active"):$(".navbar.navbar--mobile").removeClass("menu-active")}),0<$("#header-carousel").length&&(t=0,$(".post-header__image-details").each(function(){var e=$(this).height();t<e&&(t=e)}),$("#header-carousel .carousel-inner").css("padding-bottom",t),$("#header-carousel .post-header__image-details").css("bottom","-"+t+"px"),$("head").append("<style>#header-carousel .carousel-inner:after{height:calc(100% - "+t+"px);}</style>")),0<$(".home-research-impact__impact-areas").length&&$(".home-research-impact__impact-areas .home-featured-impact-story__story-icon").on("click",function(e){e.preventDefault(),($(this).parent().parent().hasClass("active")?($(".home-research-impact__impact-area").removeClass("active"),$(this).parent().parent().next().is("div")?$(this).parent().parent().next():$(".home-research-impact__impact-area:first-child")):($(".home-research-impact__impact-area").removeClass("active"),$(this).parent().parent())).addClass("active")}),0<$(".atcb-light").length&&$(".atcb-light").css({"margin-top":"12px!important"}),0<$(".news-landing-page__featured-post-image").length){var e={container:document.querySelector(".news-landing-page__featured-post-image .anim"),renderer:"svg",loop:!1,autoplay:!1,path:"/wp-content/themes/dmse/assets/hoveranimation.json"};const n=lottie.loadAnimation(e);var a=$(".news-landing-page__featured-post-wrap");a.on("mouseenter",()=>{n.setDirection(1),n.play()}),a.on("mouseleave",()=>{n.setDirection(-1),n.play()})}if(0<$(".home-spotlight__image").length){e={container:document.querySelector(".home-spotlight__image .anim"),renderer:"svg",loop:!1,autoplay:!1,path:"/wp-content/themes/dmse/assets/hoveranimation.json"};const i=lottie.loadAnimation(e);a=$(".home-spotlight > .container > .row");a.on("mouseenter",()=>{i.setDirection(1),i.play()}),a.on("mouseleave",()=>{i.setDirection(-1),i.play()})}if($(".related-news__wrap").each(function(e){0===e?$(this).addClass("first"):1===e?$(this).addClass("second"):2===e?$(this).addClass("third"):3===e?$(this).addClass("fourth"):4===e?$(this).addClass("fifth"):5===e&&$(this).addClass("sixth")}),0<$(".related-news__wrap.second").length){e={container:document.querySelector(".related-news__wrap.second .anim"),renderer:"svg",loop:!1,autoplay:!1,path:"/wp-content/themes/dmse/assets/hoveranimation.json"};const o=lottie.loadAnimation(e);a=$(".related-news__wrap.second");a.on("mouseenter",()=>{o.setDirection(1),o.play()}),a.on("mouseleave",()=>{o.setDirection(-1),o.play()})}if(0<$(".related-news__wrap.first").length){e={container:document.querySelector(".related-news__wrap.first .anim"),renderer:"svg",loop:!1,autoplay:!1,path:"/wp-content/themes/dmse/assets/hoveranimation.json"};const r=lottie.loadAnimation(e);a=$(".related-news__wrap.first");a.on("mouseenter",()=>{r.setDirection(1),r.play()}),a.on("mouseleave",()=>{r.setDirection(-1),r.play()})}if(0<$(".related-news__wrap.third").length){e={container:document.querySelector(".related-news__wrap.third .anim"),renderer:"svg",loop:!1,autoplay:!1,path:"/wp-content/themes/dmse/assets/hoveranimation.json"};const s=lottie.loadAnimation(e);a=$(".related-news__wrap.third");a.on("mouseenter",()=>{s.setDirection(1),s.play()}),a.on("mouseleave",()=>{s.setDirection(-1),s.play()})}if(0<$(".related-news__wrap.fourth").length){e={container:document.querySelector(".related-news__wrap.fourth .anim"),renderer:"svg",loop:!1,autoplay:!1,path:"/wp-content/themes/dmse/assets/hoveranimation.json"};const d=lottie.loadAnimation(e);a=$(".related-news__wrap.fourth");a.on("mouseenter",()=>{d.setDirection(1),d.play()}),a.on("mouseleave",()=>{d.setDirection(-1),d.play()})}if(0<$(".related-news__wrap.fifth").length){e={container:document.querySelector(".related-news__wrap.fifth .anim"),renderer:"svg",loop:!1,autoplay:!1,path:"/wp-content/themes/dmse/assets/hoveranimation.json"};const c=lottie.loadAnimation(e);a=$(".related-news__wrap.fifth");a.on("mouseenter",()=>{c.setDirection(1),c.play()}),a.on("mouseleave",()=>{c.setDirection(-1),c.play()})}if(0<$(".related-news__wrap.sixth").length){e={container:document.querySelector(".related-news__wrap.sixth .anim"),renderer:"svg",loop:!1,autoplay:!1,path:"/wp-content/themes/dmse/assets/hoveranimation.json"};const l=lottie.loadAnimation(e);a=$(".related-news__wrap.sixth");a.on("mouseenter",()=>{l.setDirection(1),l.play()}),a.on("mouseleave",()=>{l.setDirection(-1),l.play()})}}),$(document).ready(function(){$(".tools-materials-wrap li a").on("focus",function(){$(this).parent().css("outline","-webkit-focus-ring-color auto 1px")}),$(".query-checkboxes input").on("focus",function(){$(this).parent().addClass("focus")}),$(".query-checkboxes input").on("blur",function(){$(this).parent().removeClass("focus")})}),$(document).ready(function(){setTimeout(function(){$(".hotspot-icon").addClass("anim")},1e3),setTimeout(function(){$(".hotspot-icon").removeClass("anim")},1500),setTimeout(function(){$(".hotspot-icon").addClass("anim")},2e3),setTimeout(function(){$(".hotspot-icon").removeClass("anim")},2500),setTimeout(function(){$(".hotspot-icon").addClass("anim")},3e3),setTimeout(function(){$(".hotspot-icon").removeClass("anim")},3500)}),jQuery(document).ready(function(t){t("body.home").length&&t.ajax({type:"post",data:{action:"get_featured_faculty"},dataType:"json",url:"/wp-admin/admin-ajax.php",success:function(e){t(".home-our-faculty__faculty-name").html(e.name),t(".home-our-faculty__faculty-image").html(e.image)},error:function(e,t){console.log(e)}})}),jQuery(document).ready(function(t){t("body.page-template-page-education").length&&t.ajax({type:"post",data:{action:"get_featured_edu_faculty"},dataType:"json",url:"/wp-admin/admin-ajax.php",success:function(e){t(".education-featured-faculty__faculty-name").html(e.name),t(".education-featured-faculty__faculty-image").html(e.image)},error:function(e,t){console.log(e)}})}),jQuery(document).ready(function(t){t(".exposed-filter-pill").on("click",function(e){e.preventDefault(),t('input[value="'+t(this).attr("data-filter")+'"]').click(),t(this).parents(".query-wrangler").find(".query-wrangler__submit").click()}),t(".query-wrangler__reset").on("click",function(e){e.preventDefault(),window.location=window.location.href.split("?")[0]}),t(".query-wrangler__form-toggle").on("click",function(){var e=t(this).parents(".query-wrangler__exposed");t(this).attr("aria-expanded","true"),e.find(".query-wrangler__form-toggle-wrapper:first").hide(),e.find(".query-wrangler__form-wrapper:first").fadeIn().children(".query-wrangler__form").attr("tabindex","-1").focus()}),t(".filter-mobile-close").on("click",function(){var e=t(this).parents(".query-wrangler__exposed");t(this).attr("aria-expanded","false"),e.find(".query-wrangler__form-toggle-wrapper:first").show(),e.find(".query-wrangler__form-wrapper:first").hide().children(".query-wrangler__form").attr("tabindex","1").focus()}),t(".query-checkbox").each(function(){})}),jQuery(document).ready(function(e){e("a.footnote-link.footnote-back-link").prepend('<span class="sr-only">Return to text </span>')}),jQuery(document).ready(function(n){new Waypoint({element:document.getElementById("sticky-main-nav"),handler(e){"down"===e?n("#sticky-main-nav").addClass("fixed-top"):"up"===e&&n("#sticky-main-nav").removeClass("fixed-top")},offset:-200}),new Waypoint({element:document.getElementById("sticky-main-nav"),handler(e){"down"===e?n("#sticky-main-nav").addClass("opacity-zero"):"up"===e&&n("#sticky-main-nav").removeClass("opacity-zero")},offset:-130});new Waypoint({element:document.getElementById("navbar--mobile"),handler(e){"down"===e?n("#navbar--mobile").addClass("fixed-top"):"up"===e&&n("#navbar--mobile").removeClass("fixed-top")},offset:-130});if(0<n("#impact-filter").length){const a=new Waypoint({element:document.getElementById("impact-filter"),handler(e){"down"===e?n("#impact-filter").addClass("scrolled"):"up"===e&&n("#impact-filter").removeClass("scrolled")},offset:0})}function e(e){var t,a;e.addClass("open").children("button").attr("aria-expanded","true"),e=e.children("ul"),t=e[0].getBoundingClientRect().left,a=e[0].offsetWidth,n(".header").width()-10<t+a&&e.addClass("overflow")}function t(e){e.removeClass("open").find("li.has-submenu").removeClass("open"),e.find("button[aria-expanded=true]").attr("aria-expanded","false").siblings("ul.overflow").removeClass("overflow")}n("#main-nav").on("keyup",function(e){27===e.keyCode&&t(n("li.has-submenu.level-1"))}),n("#main-nav li.has-submenu button").click(function(){(n(this).parent().hasClass("open")?t:e)(n(this).parent("li.has-submenu"))}),n("#main-nav li.has-submenu").on("mouseleave",function(){t(n(this))}),n("#main-nav li.has-submenu").on("mouseenter",function(){e(n(this))}),n("#main-nav").on("keydown","li:not(.level-1) > a, li:not(.level-1) > button",function(e){if(9===e.keyCode){if(!0===e.shiftKey)return!0;e=n(this).parents(".has-submenu.level-1").find("a:visible, button:visible").last();n(this)[0]===e[0]?t(n(this).parents("li.has-submenu.level-1")):n(this).parent().hasClass("level-3")&&n(this).parent().is(":last-child")&&t(n(this).parents("li.has-submenu.level-2"))}}),n("#main-nav li.has-submenu:not(.level-3) > button").on("keydown",function(e){if(9===e.keyCode){if(!0==!e.shiftKey)return!0;t(n(this).parent("li.has-submenu"))}})}),jQuery(document).ready(function(e){var t;if(1<e(".impact-area__publication").length&&(e(".impact-area__publication").addClass("d-none"),r=e(".impact-area__publication").length,t=Math.floor(Math.random()*r),e(".impact-area__publication").eq(t).removeClass("d-none")),1<e(".research-landing-page__publication").length)for(var a=e(".research-landing-page__publication"),n=0;n<a.length;n++){var i=Math.floor(Math.random()*a.length-1)+1,o=Math.floor(Math.random()*a.length-1)+1;a.eq(i).before(a.eq(o))}if(2<e(".research-landing-page__publication").length){e(".research-landing-page__publication").addClass("d-none");for(var r=e(".research-landing-page__publication").length,s=Math.floor(Math.random()*r),d=Math.floor(Math.random()*r);s==d;)d=Math.floor(Math.random()*r);e(".research-landing-page__publication").eq(s).removeClass("d-none"),e(".research-landing-page__publication").eq(d).removeClass("d-none")}}),jQuery(document).ready(function(h){var e,m,u,f,w,g;e=h("[data-imgbg]"),m="(max-width: 539px)",u="(min-width: 540px) and (max-width: 719px)",f="(min-width: 720px) and (max-width: 959px)",w="(min-width: 960px) and (max-width: 1279px)",g="(min-width: 1280px)",e.each(function(){var e=h(this).data("imgbg-mobile"),t=h(this).data("imgbg-mobile2x"),a=h(this).data("imgbg-narrow"),n=h(this).data("imgbg-narrow2x"),i=h(this).data("imgbg-wide"),o=h(this).data("imgbg-wide2x"),r=h(this).data("imgbg-xwide"),s=h(this).data("imgbg-xwide2x"),d=h(this).data("imgbg-xxwide"),c=h(this).data("imgbg-xxwide2x"),l=h(this);function p(e){l.css("background-image",'url("'+e+'")')}enquire.register("screen and "+m,{match:function(){p(e)}}).register("screen and (min-resolution: 2dppx), screen and (-webkit-min-device-pixel-ratio: 2), screen and (min--moz-device-pixel-ratio: 2), screen and (min-resolution: 250dpi)",{match:function(){p(t)}}).register("screen and "+u,{match:function(){p(a)}}).register("screen and (min-width: 540px) and (max-width: 719px) and (min-resolution: 2dppx), screen and (min-width: 540px) and (max-width: 719px) and (-webkit-min-device-pixel-ratio: 2), screen and (min-width: 540px) and (max-width: 719px) and (min--moz-device-pixel-ratio: 2), screen and (min-width: 540px) and (max-width: 719px) and (min-resolution: 250dpi)",{match:function(){p(n)}}).register("screen and "+f,{match:function(){p(i)}}).register("screen and (min-width: 720px) and (max-width: 959px) and (min-resolution: 2dppx), screen and (min-width: 720px) and (max-width: 959px) and (-webkit-min-device-pixel-ratio: 2), screen and (min-width: 720px) and (max-width: 959px) and (min--moz-device-pixel-ratio: 2), screen and (min-width: 720px) and (max-width: 959px) and (min-resolution: 250dpi)",{match:function(){p(o)}}).register("screen and "+w,{match:function(){p(r)}}).register("screen and (min-width: 960px) and (max-width: 1279px) and (min-resolution: 2dppx), screen and (min-width: 960px) and (max-width: 1279px) and (-webkit-min-device-pixel-ratio: 2), screen and (min-width: 960px) and (max-width: 1279px) and (min--moz-device-pixel-ratio: 2), screen and (min-width: 960px) and (max-width: 1279px) and (min-resolution: 250dpi)",{match:function(){p(s)}}).register("screen and "+g,{match:function(){p(d)}}).register("screen and (min-width: 1280px) and (min-resolution: 2dppx), screen and (min-width: 1280px) and (-webkit-min-device-pixel-ratio: 2), screen and (min-width: 1280px) and (min--moz-device-pixel-ratio: 2), screen and (min-width: 1280px) and (min-resolution: 250dpi)",{match:function(){p(c)}})})}),jQuery(document).ready(function(o){function t(t,e,a){var n=!!t.hasClass("wp-block-opus-core-block-rewrite-oa"),i=!!t.parents(".wp-block-opus-core-block-rewrite-oa");if(n||i){let e;"false"===(e=(n?t:t.parents(".wp-block-opus-core-block-rewrite-oa")).find(".accordion-title")).attr("aria-expanded")&&e.click()}setTimeout(function(){o("html, body").animate({scrollTop:t.offset().top-e},600)},a),t.is("a, select, input, button, textarea")||t.attr("tabindex","-1"),t.focus()}var e;window.location.hash&&(e=o(window.location.hash)).length&&t(e,100,500),o('a[href*="#"]').not('[href="#"], [href="#0"], [href="#header-carousel"], .skip-link, .page-numbers').click(function(e){this.pathname===window.location.pathname&&(e.preventDefault(),e=o(this).attr("href"),(e=o(e)).length)&&t(e,100,100)})}),/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(e=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1),jQuery(document).ready(function(t){t(".wp-block-table table").each(function(){var e=!!t(this).find("thead").length;t(this).basictable({containerBreakpoint:575,header:e})})});